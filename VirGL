# Virgl gles :
pkg install x11-repo 
pkg install virglrenderer-android

echo 'alias gl="MESA_NO_ERROR=1 MESA_GL_VERSION_OVERRIDE=4.3COMPAT MESA_GLES_VERSION_OVERRIDE=3.2 virgl_test_server_android &"' >> /data/data/com.termux/files/home/.bashrc
echo 'alias gl="MESA_NO_ERROR=1 MESA_GL_VERSION_OVERRIDE=3.3COMPAT GALLIUM_DRIVER=virpipe WINEDEBUG=-all"' >> /data/data/com.termux/files/usr/var/lib/proot-distro/installed-rootfs/ubuntu/root/.bashrc

# Virgl zink :
pkg install x11-repo tur-repo
pkg install mesa-zink virglrenderer-mesa-zink

echo 'alias zink="MESA_NO_ERROR=1 MESA_GL_VERSION_OVERRIDE=4.3COMPAT MESA_GLES_VERSION_OVERRIDE=3.2 GALLIUM_DRIVER=zink ZINK_DESCRIPTORS=lazy virgl_test_server --use-egl-surfaceless --use-gles &"' >> /data/data/com.termux/files/home/.bashrc
echo 'alias zink="MESA_NO_ERROR=1 MESA_GL_VERSION_OVERRIDE=3.3COMPAT GALLIUM_DRIVER=virpipe WINEDEBUG=-all"' >> /data/data/com.termux/files/usr/var/lib/proot-distro/installed-rootfs/ubuntu/root/.bashrc

# Old zink

Try setting it up (outside the proot) like so:



# Outside the proot, start the virgl_test_server to use acceleration. Virpipes can communicate with it over /data/data/com.termux/files/usr/tmp

echo 'alias zink="MESA_NO_ERROR=1 MESA_GL_VERSION_OVERRIDE=3.3COMPAT GALLIUM_DRIVER=zink ZINK_DESCRIPTORS=lazy virgl_test_server --use-egl-surfaceless &"' >> /data/data/com.termux/files/home/.bashrc

# In proot

echo 'alias zink="MESA_NO_ERROR=1 MESA_GL_VERSION_OVERRIDE=3.3COMPAT GALLIUM_DRIVER=virpipe WINEDEBUG=-all"' >> /data/data/com.termux/files/usr/var/lib/proot-distro/installed-rootfs/ubuntu/root/.bashrc

edit: It is now -Dllvm=disabled because now that Termux updated to LLVM 15 this version of Mesa will probably not work with it. Change it to -Dllvm=enabled if sure it'll work. Unfortunately, -Dllvm=disabled significantly slows down and lowers compatibility of CPU-only 'acceleration', and might slow down GPU acceleration. Newer versions of Mesa have higher GPU/driver requirements. Installing another LLVM version (like how Mesa is installed here) takes hours of processing on a phone.

Credit : eNB256







