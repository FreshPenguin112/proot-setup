# Install related kits :

sudo apt install make cmake gcc-arm-linux-gnueabihf gcc-aarch64-linux-gnu checkinstall
# build-essential git

# Compile Box86

cd
git clone https://github.com/ptitSeb/box86
cd box86
mkdir build; cd build; cmake .. -DARM64=1 -DBAD_SIGNAL=1 -DCMAKE_BUILD_TYPE=RelWithDebInfo
make -j4
sudo make install
cd
rm -rf box86

# Compile Box64

cd
git clone https://github.com/ptitSeb/box64
cd box64
mkdir build; cd build; cmake .. -DARM_DYNAREC=1 -DBAD_SIGNAL=1 -DCMAKE_BUILD_TYPE=RelWithDebInfo
make -j4
sudo make install
cd
rm -rf box64

# Build 

cd ~/Desktop
wget https://github.com/ptitSeb/box64/archive/refs/tags/v0.2.2.tar.gz
wget https://github.com/ptitSeb/box86/archive/refs/tags/v0.3.0.tar.gz
cat *.tar.gz | tar -xzvf - -i


cd ~/Desktop/box86*/
mkdir build; cd build; cmake .. -DARM64=1 -DBAD_SIGNAL=1 -DCMAKE_BUILD_TYPE=RelWithDebInfo
make -j4
DEBVER="$(./box86 -v | cut -c21-25)"
mkdir doc-pak || error "Failed to create doc-pak dir."
cp ../docs/README.md ./doc-pak || warning "Failed to add README to docs"
cp ../docs/CHANGELOG.md ./doc-pak || error "Failed to add CHANGELOG to docs"
cp ../docs/USAGE.md ./doc-pak || error "Failed to add USAGE to docs"
cp ../LICENSE ./doc-pak || error "Failed to add LICENSE to docs"
echo "Box86 lets you run x86 Linux programs (such as games) on non-x86 Linux systems, like ARM (host system needs to be 32bit little-endian)">description-pak || error "Failed to create description-pak."
sudo checkinstall -y -D --pkgversion="$DEBVER" --arch="armhf" --provides="box86" --conflicts="qemu-user-static" --pkgname="box86" --install="no" make install || error "Checkinstall failed to create a deb package."


cd ~/Desktop/box64*/
mkdir build; cd build; cmake .. -DARM_DYNAREC=1 -DBAD_SIGNAL=1 -DCMAKE_BUILD_TYPE=RelWithDebInfo
make -j4
DEBVER="$(./box64 -v | cut -c21-25)"
mkdir doc-pak || error "Failed to create doc-pak dir."
cp ../docs/README.md ./doc-pak || warning "Failed to add readme to docs"
cp ../docs/CHANGELOG.md ./doc-pak || error "Failed to add changelog to docs"
cp ../docs/USAGE.md ./doc-pak || error "Failed to add USAGE to docs"
cp ../LICENSE ./doc-pak || error "Failed to add license to docs"
echo "Box64 lets you run x86_64 Linux programs (such as games) on non-x86_64 Linux systems, like ARM (host system needs to be 64bit little-endian)">description-pak || error "Failed to create description-pak." 
sudo checkinstall -y -D --pkgversion="$DEBVER" --arch="arm64" --provides="box64" --conflicts="qemu-user-static" --pkgname="box64" --install="no" make install || error "Checkinstall failed to create a deb package."




